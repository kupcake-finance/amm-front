{"ast":null,"code":"import _slicedToArray from\"/home/someone/kucoin/tesnet20_08/amm-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/home/someone/kucoin/tesnet20_08/amm-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import{Button,Text}from'@pancakeswap-libs/uikit';import React,{useCallback,useMemo,useState}from'react';import styled from'styled-components';import{AlertTriangle}from'react-feather';import{useActiveWeb3React}from'../../hooks';import{useAllTokens}from'../../hooks/Tokens';import{ExternalLink,TYPE}from'../Shared';import{getEtherscanLink,shortenAddress}from'../../utils';import CurrencyLogo from'../CurrencyLogo';import Modal from'../Modal';import{AutoRow,RowBetween}from'../Row';import{AutoColumn}from'../Column';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=TYPE.main,Blue=TYPE.blue;var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  background: rgba(255, 255, 255, 0.8);\\n  padding: 0.75rem;\\n  border-radius: 20px;\\n\"])));var WarningContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  width: 500px;\\n  width: 100%;\\n  padding: 1rem;\\n  /* background: rgba(255, 255, 255, 0.8); */\\n  border: 5px solid #fff;\\n  border-radius: 20px;\\n  overflow: auto;\\n\"])));var StyledWarningIcon=styled(AlertTriangle)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  stroke: \",\";\\n\"])),function(_ref){var theme=_ref.theme;return theme.colors.failure;});function TokenWarningCard(_ref2){var _token$symbol$toLower,_token$symbol,_token$name$toLowerCa,_token$name;var token=_ref2.token;var _useActiveWeb3React=useActiveWeb3React(),chainId=_useActiveWeb3React.chainId;var tokenSymbol=(_token$symbol$toLower=token===null||token===void 0?void 0:(_token$symbol=token.symbol)===null||_token$symbol===void 0?void 0:_token$symbol.toLowerCase())!==null&&_token$symbol$toLower!==void 0?_token$symbol$toLower:'';var tokenName=(_token$name$toLowerCa=token===null||token===void 0?void 0:(_token$name=token.name)===null||_token$name===void 0?void 0:_token$name.toLowerCase())!==null&&_token$name$toLowerCa!==void 0?_token$name$toLowerCa:'';var allTokens=useAllTokens();var duplicateNameOrSymbol=useMemo(function(){if(!token||!chainId)return false;return Object.keys(allTokens).some(function(tokenAddress){var _userToken$symbol,_userToken$name;var userToken=allTokens[tokenAddress];if(userToken.equals(token)){return false;}return((_userToken$symbol=userToken.symbol)===null||_userToken$symbol===void 0?void 0:_userToken$symbol.toLowerCase())===tokenSymbol||((_userToken$name=userToken.name)===null||_userToken$name===void 0?void 0:_userToken$name.toLowerCase())===tokenName;});},[token,chainId,allTokens,tokenSymbol,tokenName]);if(!token)return null;return/*#__PURE__*/_jsx(Wrapper,{error:duplicateNameOrSymbol,children:/*#__PURE__*/_jsxs(AutoRow,{gap:\"6px\",children:[/*#__PURE__*/_jsxs(AutoColumn,{gap:\"24px\",children:[/*#__PURE__*/_jsx(CurrencyLogo,{currency:token,size:\"16px\"}),/*#__PURE__*/_jsx(\"div\",{children:\" \"})]}),/*#__PURE__*/_jsxs(AutoColumn,{gap:\"10px\",justify:\"flex-start\",children:[/*#__PURE__*/_jsxs(Main,{children:[token&&token.name&&token.symbol&&token.name!==token.symbol?\"\".concat(token.name,\" (\").concat(token.symbol,\")\"):token.name||token.symbol,' ']}),chainId&&/*#__PURE__*/_jsx(ExternalLink,{style:{fontWeight:400},href:getEtherscanLink(chainId,token.address,'token'),children:/*#__PURE__*/_jsxs(Blue,{title:token.address,children:[shortenAddress(token.address),\" (View on KCC Explorer)\"]})})]})]})});}export default function TokenWarningModal(_ref3){var isOpen=_ref3.isOpen,tokens=_ref3.tokens,onConfirm=_ref3.onConfirm;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),understandChecked=_useState2[0],setUnderstandChecked=_useState2[1];var toggleUnderstand=useCallback(function(){return setUnderstandChecked(function(uc){return!uc;});},[]);var handleDismiss=useCallback(function(){return null;},[]);return/*#__PURE__*/_jsx(Modal,{isOpen:isOpen,onDismiss:handleDismiss,maxHeight:90,children:/*#__PURE__*/_jsx(WarningContainer,{className:\"token-warning-container\",children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"lg\",children:[/*#__PURE__*/_jsxs(AutoRow,{gap:\"6px\",children:[/*#__PURE__*/_jsx(StyledWarningIcon,{}),/*#__PURE__*/_jsx(Text,{color:\"failure\",children:\"Token imported\"})]}),/*#__PURE__*/_jsxs(Text,{style:{textAlign:'justify'},children:[\"Anyone can create a token on KCC with \",/*#__PURE__*/_jsx(\"em\",{children:\"any\"}),\" name, including creating fake versions of existing tokens and tokens that claim to represent projects that do not have a token.\"]}),/*#__PURE__*/_jsx(Text,{style:{textAlign:'justify'},children:\"This interface can load arbitrary tokens by token addresses. Please take extra caution and do your research when interacting with arbitrary BEP20 tokens.\"}),/*#__PURE__*/_jsxs(Text,{style:{textAlign:'justify'},children:[\"If you purchase an arbitrary token, \",/*#__PURE__*/_jsx(\"strong\",{children:\"you may be unable to sell it back.\"})]}),tokens.map(function(token){return/*#__PURE__*/_jsx(TokenWarningCard,{token:token},token.address);}),/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"understand-checkbox\",style:{cursor:'pointer',userSelect:'none'},children:[/*#__PURE__*/_jsx(\"input\",{id:\"understand-checkbox\",type:\"checkbox\",className:\"understand-checkbox\",checked:understandChecked,onChange:toggleUnderstand}),' ',/*#__PURE__*/_jsx(Text,{as:\"span\",ml:\"4px\",children:\"I understand\"})]})}),/*#__PURE__*/_jsx(Button,{disabled:!understandChecked,variant:\"danger\",style:{width:'140px'},className:\"token-dismiss-button\",onClick:function onClick(){onConfirm();},children:\"Continue\"})]})]})})});}","map":{"version":3,"sources":["/home/someone/kucoin/tesnet20_08/amm-front/src/components/TokenWarningModal/index.tsx"],"names":["Button","Text","React","useCallback","useMemo","useState","styled","AlertTriangle","useActiveWeb3React","useAllTokens","ExternalLink","TYPE","getEtherscanLink","shortenAddress","CurrencyLogo","Modal","AutoRow","RowBetween","AutoColumn","Main","main","Blue","blue","Wrapper","div","WarningContainer","StyledWarningIcon","theme","colors","failure","TokenWarningCard","token","chainId","tokenSymbol","symbol","toLowerCase","tokenName","name","allTokens","duplicateNameOrSymbol","Object","keys","some","tokenAddress","userToken","equals","fontWeight","address","TokenWarningModal","isOpen","tokens","onConfirm","understandChecked","setUnderstandChecked","toggleUnderstand","uc","handleDismiss","textAlign","map","cursor","userSelect","width"],"mappings":"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","sourcesContent":["import { Token } from '@pancakeswap-libs/sdk-v2'\nimport { transparentize } from 'polished'\nimport { Button, Text } from '@pancakeswap-libs/uikit'\nimport React, { useCallback, useMemo, useState } from 'react'\nimport styled from 'styled-components'\nimport { AlertTriangle } from 'react-feather'\nimport { useActiveWeb3React } from '../../hooks'\nimport { useAllTokens } from '../../hooks/Tokens'\nimport { ExternalLink, TYPE } from '../Shared'\nimport { getEtherscanLink, shortenAddress } from '../../utils'\nimport CurrencyLogo from '../CurrencyLogo'\nimport Modal from '../Modal'\nimport { AutoRow, RowBetween } from '../Row'\nimport { AutoColumn } from '../Column'\n\nconst { main: Main, blue: Blue } = TYPE\n\nconst Wrapper = styled.div<{ error: boolean }>`\n  background: rgba(255, 255, 255, 0.8);\n  padding: 0.75rem;\n  border-radius: 20px;\n`\n\nconst WarningContainer = styled.div`\n  width: 500px;\n  width: 100%;\n  padding: 1rem;\n  /* background: rgba(255, 255, 255, 0.8); */\n  border: 5px solid #fff;\n  border-radius: 20px;\n  overflow: auto;\n`\n\nconst StyledWarningIcon = styled(AlertTriangle)`\n  stroke: ${({ theme }) => theme.colors.failure};\n`\n\ninterface TokenWarningCardProps {\n  token?: Token\n}\n\nfunction TokenWarningCard({ token }: TokenWarningCardProps) {\n  const { chainId } = useActiveWeb3React()\n\n  const tokenSymbol = token?.symbol?.toLowerCase() ?? ''\n  const tokenName = token?.name?.toLowerCase() ?? ''\n\n  const allTokens = useAllTokens()\n\n  const duplicateNameOrSymbol = useMemo(() => {\n    if (!token || !chainId) return false\n\n    return Object.keys(allTokens).some((tokenAddress) => {\n      const userToken = allTokens[tokenAddress]\n      if (userToken.equals(token)) {\n        return false\n      }\n      return userToken.symbol?.toLowerCase() === tokenSymbol || userToken.name?.toLowerCase() === tokenName\n    })\n  }, [token, chainId, allTokens, tokenSymbol, tokenName])\n\n  if (!token) return null\n\n  return (\n    <Wrapper error={duplicateNameOrSymbol}>\n      <AutoRow gap=\"6px\">\n        <AutoColumn gap=\"24px\">\n          <CurrencyLogo currency={token} size=\"16px\" />\n          <div> </div>\n        </AutoColumn>\n        <AutoColumn gap=\"10px\" justify=\"flex-start\">\n          <Main>\n            {token && token.name && token.symbol && token.name !== token.symbol\n              ? `${token.name} (${token.symbol})`\n              : token.name || token.symbol}{' '}\n          </Main>\n          {chainId && (\n            <ExternalLink style={{ fontWeight: 400 }} href={getEtherscanLink(chainId, token.address, 'token')}>\n              <Blue title={token.address}>{shortenAddress(token.address)} (View on KCC Explorer)</Blue>\n            </ExternalLink>\n          )}\n        </AutoColumn>\n      </AutoRow>\n    </Wrapper>\n  )\n}\n\nexport default function TokenWarningModal({\n  isOpen,\n  tokens,\n  onConfirm,\n}: {\n  isOpen: boolean\n  tokens: Token[]\n  onConfirm: () => void\n}) {\n  const [understandChecked, setUnderstandChecked] = useState(false)\n  const toggleUnderstand = useCallback(() => setUnderstandChecked((uc) => !uc), [])\n\n  const handleDismiss = useCallback(() => null, [])\n  return (\n    <Modal isOpen={isOpen} onDismiss={handleDismiss} maxHeight={90}>\n      <WarningContainer className=\"token-warning-container\">\n        <AutoColumn gap=\"lg\">\n          <AutoRow gap=\"6px\">\n            <StyledWarningIcon />\n            <Text color=\"failure\">Token imported</Text>\n          </AutoRow>\n          <Text style={{textAlign:'justify'}}>\n            Anyone can create a token on KCC with <em>any</em> name, including creating fake versions of existing\n            tokens and tokens that claim to represent projects that do not have a token.\n          </Text>\n          <Text style={{textAlign:'justify'}}>\n            This interface can load arbitrary tokens by token addresses. Please take extra caution and do your research\n            when interacting with arbitrary BEP20 tokens.\n          </Text>\n          <Text style={{textAlign:'justify'}}>\n            If you purchase an arbitrary token, <strong>you may be unable to sell it back.</strong>\n          </Text>\n          {tokens.map((token) => {\n            return <TokenWarningCard key={token.address} token={token} />\n          })}\n          <RowBetween>\n            <div>\n              <label htmlFor=\"understand-checkbox\" style={{ cursor: 'pointer', userSelect: 'none' }}>\n                <input\n                  id=\"understand-checkbox\"\n                  type=\"checkbox\"\n                  className=\"understand-checkbox\"\n                  checked={understandChecked}\n                  onChange={toggleUnderstand}\n                />{' '}\n                <Text as=\"span\" ml=\"4px\">\n                  I understand\n                </Text>\n              </label>\n            </div>\n            <Button\n              disabled={!understandChecked}\n              variant=\"danger\"\n              style={{ width: '140px' }}\n              className=\"token-dismiss-button\"\n              onClick={() => {\n                onConfirm()\n              }}\n            >\n              Continue\n            </Button>\n          </RowBetween>\n        </AutoColumn>\n      </WarningContainer>\n    </Modal>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}