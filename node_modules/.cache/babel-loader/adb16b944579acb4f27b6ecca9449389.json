{"ast":null,"code":"var _jsxFileName = \"/home/someone/kucoin/tesnet20_08/amm-front/src/pages/Swap/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { JSBI, Token } from '@pancakeswap-libs/sdk-v2';\nimport React, { useCallback, useContext, useEffect, useMemo, useState } from 'react';\nimport { ArrowDown } from 'react-feather';\nimport { CardBody, Button, IconButton, Text, Heading } from '@pancakeswap-libs/uikit';\nimport styled, { ThemeContext } from 'styled-components';\nimport AddressInputPanel from 'components/AddressInputPanel';\nimport Card, { GreyCard } from 'components/Card';\nimport { AutoColumn } from 'components/Column';\nimport ConfirmSwapModal from 'components/swap/ConfirmSwapModal';\nimport CurrencyInputPanel from 'components/CurrencyInputPanel';\nimport CardNav from 'components/CardNav';\nimport { AutoRow, RowBetween } from 'components/Row';\nimport AdvancedSwapDetailsDropdown from 'components/swap/AdvancedSwapDetailsDropdown';\nimport BetterTradeLink from 'components/swap/BetterTradeLink';\nimport confirmPriceImpactWithoutFee from 'components/swap/confirmPriceImpactWithoutFee';\nimport { ArrowWrapper, BottomGrouping, SwapCallbackError, Wrapper } from 'components/swap/styleds';\nimport TradePrice from 'components/swap/TradePrice';\nimport TokenWarningModal from 'components/TokenWarningModal';\nimport SyrupWarningModal from 'components/SyrupWarningModal';\nimport ProgressSteps from 'components/ProgressSteps';\nimport SwapVertIcon from '@material-ui/icons/SwapVert';\nimport { BETTER_TRADE_LINK_THRESHOLD, INITIAL_ALLOWED_SLIPPAGE } from 'constants/index';\nimport { isTradeBetter } from 'data/V1';\nimport { useActiveWeb3React } from 'hooks';\nimport { useCurrency } from 'hooks/Tokens';\nimport { ApprovalState, useApproveCallbackFromTrade } from 'hooks/useApproveCallback';\nimport { useSwapCallback } from 'hooks/useSwapCallback';\nimport useToggledVersion, { Version } from 'hooks/useToggledVersion';\nimport useWrapCallback, { WrapType } from 'hooks/useWrapCallback';\nimport { Field } from 'state/swap/actions';\nimport { useDefaultsFromURLSearch, useDerivedSwapInfo, useSwapActionHandlers, useSwapState } from 'state/swap/hooks';\nimport { useExpertModeManager, useUserDeadline, useUserSlippageTolerance } from 'state/user/hooks';\nimport { LinkStyledButton, TYPE } from 'components/Shared';\nimport { maxAmountSpend } from 'utils/maxAmountSpend';\nimport { computeTradePriceBreakdown, warningSeverity } from 'utils/prices';\nimport Loader from 'components/Loader';\nimport { TranslateString } from 'utils/translateTextHelpers';\nimport PageHeader from 'components/PageHeader';\nimport ConnectWalletButton from 'components/ConnectWalletButton';\nimport AppBody from '../AppBody';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  main: Main\n} = TYPE;\nconst StyledCardBody = styled(CardBody)`\n  border-radius: 20px;\n`;\n_c = StyledCardBody;\nconst Header = styled.div`\n  position: relative;\n  margin-top: 5px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: #0c0c0c;\n  background-position-x: center;\n  background-position-y: bottom;\n  background-repeat: no-repeat;\n  background-size: 800px;\n  padding-bottom: 120px;\n  z-index: 100000000;\n\n  & > img {\n    position: absolute;\n    z-index: 50;\n    bottom: -30px;\n    max-width: 800px;\n  }\n`;\nconst StyledIconButton = styled(IconButton)`\n  background-color: #48cae4;\n  margin-right: 5px;\n  height: 70px;\n  width: 70px;\n  box-shadow: none;\n  transition: all 0.2s ease-in-out;\n  border: 6px solid white;\n\n  & > svg,\n  & > svg > * {\n    fill: #fff;\n  }\n\n  &:hover {\n    background-color: #fff;\n    border: 6px solid #48cae4 !important;\n\n    & > svg,\n    & > svg > * {\n      fill: #48cae4;\n    }\n  }\n\n  &:focus {\n    box-shadow: none !important;\n  }\n\n  &:active {\n    background-color: #fff;\n  }\n`;\n_c2 = StyledIconButton;\nconst StyledSwapButton = styled(Button)`\n  background-color: #48cae4;\n  box-shadow: none;\n  transition: all 0.2s ease-in-out;\n  border: 2px solid white;\n  font-size: 20px;\n  font-weight: 600;\n\n  &:hover {\n    background-color: #fff;\n    border: 2px solid #48cae4 !important;\n    color: #48cae4;\n\n    & > svg,\n    & > svg > * {\n      fill: #48cae4;\n    }\n  }\n\n  &:focus {\n    box-shadow: none !important;\n  }\n\n  &:active {\n    background-color: #fff;\n  }\n`;\n_c3 = StyledSwapButton;\nconst MainTitle = styled(Heading)`\n  color: #fff;\n  font-size: 60px;\n  font-weight: 500;\n`;\nconst SubTitle = styled(MainTitle)`\n  font-size: 40px;\n  font-weight: 400;\n  margin: 0;\n  margin-top: -15px;\n`;\nconst SubTitle2 = styled(SubTitle)`\n  margin-top: 10px;\n  margin-bottom: 10px;\n  color: #86868b;\n`;\nconst MarginLink = styled.a`\n  margin-top: -5px;\n  margin-bottom: 50px;\n\n  & > * {\n    font-size: 20px;\n  }\n`;\nconst StyledAutoColumn = styled(AutoColumn)`\n  margin-top: -50px;\n  margin-bottom: -50px;\n  z-index: 10;\n`;\n_c4 = StyledAutoColumn;\nconst StyledSwapVertIcon = styled(SwapVertIcon)`\n  font-size: 40px !important;\n  font-weight: 800 !important;\n`;\n_c5 = StyledSwapVertIcon;\n\nconst Swap = () => {\n  _s();\n\n  var _parsedAmounts$indepe, _parsedAmounts$indepe2, _parsedAmounts$depend, _parsedAmounts$depend2, _parsedAmounts$indepe3, _parsedAmounts$Field$, _currencies$Field$INP;\n\n  const loadedUrlParams = useDefaultsFromURLSearch(); // token warning stuff\n\n  const [loadedInputCurrency, loadedOutputCurrency] = [useCurrency(loadedUrlParams === null || loadedUrlParams === void 0 ? void 0 : loadedUrlParams.inputCurrencyId), useCurrency(loadedUrlParams === null || loadedUrlParams === void 0 ? void 0 : loadedUrlParams.outputCurrencyId)];\n  const [dismissTokenWarning, setDismissTokenWarning] = useState(false);\n  const [isSyrup, setIsSyrup] = useState(false);\n  const [syrupTransactionType, setSyrupTransactionType] = useState('');\n  const urlLoadedTokens = useMemo(() => {\n    var _filter, _ref;\n\n    return (_filter = (_ref = [loadedInputCurrency, loadedOutputCurrency]) === null || _ref === void 0 ? void 0 : _ref.filter(c => c instanceof Token)) !== null && _filter !== void 0 ? _filter : [];\n  }, [loadedInputCurrency, loadedOutputCurrency]);\n  const handleConfirmTokenWarning = useCallback(() => {\n    setDismissTokenWarning(true);\n  }, []);\n  const handleConfirmSyrupWarning = useCallback(() => {\n    setIsSyrup(false);\n    setSyrupTransactionType('');\n  }, []);\n  const {\n    account\n  } = useActiveWeb3React();\n  const theme = useContext(ThemeContext);\n  const [isExpertMode] = useExpertModeManager(); // get custom setting values for user\n\n  const [deadline] = useUserDeadline();\n  const [allowedSlippage] = useUserSlippageTolerance(); // swap state\n\n  const {\n    independentField,\n    typedValue,\n    recipient\n  } = useSwapState();\n  const {\n    v1Trade,\n    v2Trade,\n    currencyBalances,\n    parsedAmount,\n    currencies,\n    inputError: swapInputError\n  } = useDerivedSwapInfo();\n  const {\n    wrapType,\n    execute: onWrap,\n    inputError: wrapInputError\n  } = useWrapCallback(currencies[Field.INPUT], currencies[Field.OUTPUT], typedValue);\n  const showWrap = wrapType !== WrapType.NOT_APPLICABLE; //   const { address: recipientAddress } = useENSAddress(recipient)\n\n  const toggledVersion = useToggledVersion();\n  const trade = showWrap ? undefined : {\n    [Version.v1]: v1Trade,\n    [Version.v2]: v2Trade\n  }[toggledVersion];\n  const betterTradeLinkVersion = toggledVersion === Version.v2 && isTradeBetter(v2Trade, v1Trade, BETTER_TRADE_LINK_THRESHOLD) ? Version.v1 : toggledVersion === Version.v1 && isTradeBetter(v1Trade, v2Trade) ? Version.v2 : undefined;\n  const parsedAmounts = showWrap ? {\n    [Field.INPUT]: parsedAmount,\n    [Field.OUTPUT]: parsedAmount\n  } : {\n    [Field.INPUT]: independentField === Field.INPUT ? parsedAmount : trade === null || trade === void 0 ? void 0 : trade.inputAmount,\n    [Field.OUTPUT]: independentField === Field.OUTPUT ? parsedAmount : trade === null || trade === void 0 ? void 0 : trade.outputAmount\n  };\n  const {\n    onSwitchTokens,\n    onCurrencySelection,\n    onUserInput,\n    onChangeRecipient\n  } = useSwapActionHandlers();\n  const isValid = !swapInputError;\n  const dependentField = independentField === Field.INPUT ? Field.OUTPUT : Field.INPUT;\n  const handleTypeInput = useCallback(value => {\n    onUserInput(Field.INPUT, value);\n  }, [onUserInput]);\n  const handleTypeOutput = useCallback(value => {\n    onUserInput(Field.OUTPUT, value);\n  }, [onUserInput]); // modal and loading\n\n  const [{\n    showConfirm,\n    tradeToConfirm,\n    swapErrorMessage,\n    attemptingTxn,\n    txHash\n  }, setSwapState] = useState({\n    showConfirm: false,\n    tradeToConfirm: undefined,\n    attemptingTxn: false,\n    swapErrorMessage: undefined,\n    txHash: undefined\n  });\n  const formattedAmounts = {\n    [independentField]: typedValue,\n    [dependentField]: showWrap ? (_parsedAmounts$indepe = (_parsedAmounts$indepe2 = parsedAmounts[independentField]) === null || _parsedAmounts$indepe2 === void 0 ? void 0 : _parsedAmounts$indepe2.toExact()) !== null && _parsedAmounts$indepe !== void 0 ? _parsedAmounts$indepe : '' : (_parsedAmounts$depend = (_parsedAmounts$depend2 = parsedAmounts[dependentField]) === null || _parsedAmounts$depend2 === void 0 ? void 0 : _parsedAmounts$depend2.toSignificant(6)) !== null && _parsedAmounts$depend !== void 0 ? _parsedAmounts$depend : ''\n  };\n  const route = trade === null || trade === void 0 ? void 0 : trade.route;\n  const userHasSpecifiedInputOutput = Boolean(currencies[Field.INPUT] && currencies[Field.OUTPUT] && ((_parsedAmounts$indepe3 = parsedAmounts[independentField]) === null || _parsedAmounts$indepe3 === void 0 ? void 0 : _parsedAmounts$indepe3.greaterThan(JSBI.BigInt(0))));\n  const noRoute = !route; // check whether the user has approved the router on the input token\n\n  const [approval, approveCallback] = useApproveCallbackFromTrade(trade, allowedSlippage); // check if user has gone through approval process, used to show two step buttons, reset on token change\n\n  const [approvalSubmitted, setApprovalSubmitted] = useState(false); // mark when a user has submitted an approval, reset onTokenSelection for input field\n\n  useEffect(() => {\n    if (approval === ApprovalState.PENDING) {\n      setApprovalSubmitted(true);\n    }\n  }, [approval, approvalSubmitted]);\n  const maxAmountInput = maxAmountSpend(currencyBalances[Field.INPUT]);\n  const atMaxAmountInput = Boolean(maxAmountInput && ((_parsedAmounts$Field$ = parsedAmounts[Field.INPUT]) === null || _parsedAmounts$Field$ === void 0 ? void 0 : _parsedAmounts$Field$.equalTo(maxAmountInput))); // the callback to execute the swap\n\n  const {\n    callback: swapCallback,\n    error: swapCallbackError\n  } = useSwapCallback(trade, allowedSlippage, deadline, recipient);\n  const {\n    priceImpactWithoutFee\n  } = computeTradePriceBreakdown(trade);\n  const handleSwap = useCallback(() => {\n    if (priceImpactWithoutFee && !confirmPriceImpactWithoutFee(priceImpactWithoutFee)) {\n      return;\n    }\n\n    if (!swapCallback) {\n      return;\n    }\n\n    setSwapState(prevState => ({ ...prevState,\n      attemptingTxn: true,\n      swapErrorMessage: undefined,\n      txHash: undefined\n    }));\n    swapCallback().then(hash => {\n      setSwapState(prevState => ({ ...prevState,\n        attemptingTxn: false,\n        swapErrorMessage: undefined,\n        txHash: hash\n      }));\n    }).catch(error => {\n      setSwapState(prevState => ({ ...prevState,\n        attemptingTxn: false,\n        swapErrorMessage: error.message,\n        txHash: undefined\n      }));\n    });\n  }, [priceImpactWithoutFee, swapCallback, setSwapState]); // errors\n\n  const [showInverted, setShowInverted] = useState(false); // warnings on slippage\n\n  const priceImpactSeverity = warningSeverity(priceImpactWithoutFee); // show approve flow when: no error on inputs, not approved or pending, or approved in current session\n  // never show if price impact is above threshold in non expert mode\n\n  const showApproveFlow = !swapInputError && (approval === ApprovalState.NOT_APPROVED || approval === ApprovalState.PENDING || approvalSubmitted && approval === ApprovalState.APPROVED) && !(priceImpactSeverity > 3 && !isExpertMode);\n  const handleConfirmDismiss = useCallback(() => {\n    setSwapState(prevState => ({ ...prevState,\n      showConfirm: false\n    })); // if there was a tx hash, we want to clear the input\n\n    if (txHash) {\n      onUserInput(Field.INPUT, '');\n    }\n  }, [onUserInput, txHash, setSwapState]);\n  const handleAcceptChanges = useCallback(() => {\n    setSwapState(prevState => ({ ...prevState,\n      tradeToConfirm: trade\n    }));\n  }, [trade]); // This will check to see if the user has selected Syrup to either buy or sell.\n  // If so, they will be alerted with a warning message.\n\n  const checkForSyrup = useCallback((selected, purchaseType) => {\n    if (selected === 'syrup') {\n      setIsSyrup(true);\n      setSyrupTransactionType(purchaseType);\n    }\n  }, [setIsSyrup, setSyrupTransactionType]);\n  const handleInputSelect = useCallback(inputCurrency => {\n    setApprovalSubmitted(false); // reset 2 step UI for approvals\n\n    onCurrencySelection(Field.INPUT, inputCurrency);\n\n    if (inputCurrency.symbol.toLowerCase() === 'syrup') {\n      checkForSyrup(inputCurrency.symbol.toLowerCase(), 'Selling');\n    }\n  }, [onCurrencySelection, setApprovalSubmitted, checkForSyrup]);\n  const handleMaxInput = useCallback(() => {\n    if (maxAmountInput) {\n      onUserInput(Field.INPUT, maxAmountInput.toExact());\n    }\n  }, [maxAmountInput, onUserInput]);\n  const handleOutputSelect = useCallback(outputCurrency => {\n    onCurrencySelection(Field.OUTPUT, outputCurrency);\n\n    if (outputCurrency.symbol.toLowerCase() === 'syrup') {\n      checkForSyrup(outputCurrency.symbol.toLowerCase(), 'Buying');\n    }\n  }, [onCurrencySelection, checkForSyrup]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TokenWarningModal, {\n      isOpen: urlLoadedTokens.length > 0 && !dismissTokenWarning,\n      tokens: urlLoadedTokens,\n      onConfirm: handleConfirmTokenWarning\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SyrupWarningModal, {\n      isOpen: isSyrup,\n      transactionType: syrupTransactionType,\n      onConfirm: handleConfirmSyrupWarning\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AppBody, {\n      children: /*#__PURE__*/_jsxDEV(Wrapper, {\n        id: \"swap-page\",\n        children: [/*#__PURE__*/_jsxDEV(ConfirmSwapModal, {\n          isOpen: showConfirm,\n          trade: trade,\n          originalTrade: tradeToConfirm,\n          onAcceptChanges: handleAcceptChanges,\n          attemptingTxn: attemptingTxn,\n          txHash: txHash,\n          recipient: recipient,\n          allowedSlippage: allowedSlippage,\n          onConfirm: handleSwap,\n          swapErrorMessage: swapErrorMessage,\n          onDismiss: handleConfirmDismiss\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PageHeader, {\n          title: \"Exchange\",\n          description: \"Instantly trade KCC tokens\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StyledCardBody, {\n          children: [/*#__PURE__*/_jsxDEV(AutoColumn, {\n            gap: \"md\",\n            children: [/*#__PURE__*/_jsxDEV(CurrencyInputPanel, {\n              label: independentField === Field.OUTPUT && !showWrap && trade ? 'From (estimated)' : TranslateString(76, 'From'),\n              value: formattedAmounts[Field.INPUT],\n              showMaxButton: !atMaxAmountInput,\n              currency: currencies[Field.INPUT],\n              onUserInput: handleTypeInput,\n              onMax: handleMaxInput,\n              onCurrencySelect: handleInputSelect,\n              otherCurrency: currencies[Field.OUTPUT],\n              id: \"swap-currency-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StyledAutoColumn, {\n              justify: \"space-between\",\n              children: /*#__PURE__*/_jsxDEV(AutoRow, {\n                justify: isExpertMode ? 'space-between' : 'center',\n                children: [/*#__PURE__*/_jsxDEV(ArrowWrapper, {\n                  clickable: true,\n                  children: /*#__PURE__*/_jsxDEV(StyledIconButton, {\n                    variant: \"tertiary\",\n                    onClick: () => {\n                      setApprovalSubmitted(false); // reset 2 step UI for approvals\n\n                      onSwitchTokens();\n                    },\n                    style: {\n                      borderRadius: '50%'\n                    },\n                    size: \"sm\",\n                    children: /*#__PURE__*/_jsxDEV(StyledSwapVertIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 468,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 459,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 19\n                }, this), recipient === null && !showWrap && isExpertMode ? /*#__PURE__*/_jsxDEV(LinkStyledButton, {\n                  id: \"add-recipient-button\",\n                  onClick: () => onChangeRecipient(''),\n                  children: \"+ Add a send (optional)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 21\n                }, this) : null]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CurrencyInputPanel, {\n              value: formattedAmounts[Field.OUTPUT],\n              onUserInput: handleTypeOutput,\n              label: independentField === Field.INPUT && !showWrap && trade ? 'To (estimated)' : TranslateString(80, 'To'),\n              showMaxButton: false,\n              currency: currencies[Field.OUTPUT],\n              onCurrencySelect: handleOutputSelect,\n              otherCurrency: currencies[Field.INPUT],\n              id: \"swap-currency-output\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 15\n            }, this), recipient !== null && !showWrap ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(AutoRow, {\n                justify: \"space-between\",\n                children: [/*#__PURE__*/_jsxDEV(ArrowWrapper, {\n                  clickable: false,\n                  children: /*#__PURE__*/_jsxDEV(ArrowDown, {\n                    size: \"16\",\n                    color: theme.colors.textSubtle\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 495,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(LinkStyledButton, {\n                  id: \"remove-recipient-button\",\n                  onClick: () => onChangeRecipient(null),\n                  children: \"- Remove send\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(AddressInputPanel, {\n                id: \"recipient\",\n                value: recipient,\n                onChange: onChangeRecipient\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : null, showWrap ? null : /*#__PURE__*/_jsxDEV(Card, {\n              padding: \".25rem .75rem 0 .75rem\",\n              borderRadius: \"20px\",\n              children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n                gap: \"4px\",\n                children: [Boolean(trade) && /*#__PURE__*/_jsxDEV(RowBetween, {\n                  align: \"center\",\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    fontSize: \"14px\",\n                    children: \"Price\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 510,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TradePrice, {\n                    price: trade === null || trade === void 0 ? void 0 : trade.executionPrice,\n                    showInverted: showInverted,\n                    setShowInverted: setShowInverted\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 511,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 509,\n                  columnNumber: 23\n                }, this), allowedSlippage !== INITIAL_ALLOWED_SLIPPAGE && /*#__PURE__*/_jsxDEV(RowBetween, {\n                  align: \"center\",\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    fontSize: \"14px\",\n                    children: \"Slippage Tolerance\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 520,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Text, {\n                    fontSize: \"14px\",\n                    children: [allowedSlippage / 100, \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(BottomGrouping, {\n            children: [!account ? /*#__PURE__*/_jsxDEV(ConnectWalletButton, {\n              fullWidth: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 17\n            }, this) : showWrap ? /*#__PURE__*/_jsxDEV(StyledSwapButton, {\n              disabled: Boolean(wrapInputError),\n              onClick: onWrap,\n              fullWidth: true,\n              children: wrapInputError !== null && wrapInputError !== void 0 ? wrapInputError : wrapType === WrapType.WRAP ? 'Wrap' : wrapType === WrapType.UNWRAP ? 'Unwrap' : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 17\n            }, this) : noRoute && userHasSpecifiedInputOutput ? /*#__PURE__*/_jsxDEV(GreyCard, {\n              style: {\n                textAlign: 'center'\n              },\n              children: /*#__PURE__*/_jsxDEV(Main, {\n                mb: \"4px\",\n                children: \"Insufficient liquidity for this trade.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 17\n            }, this) : showApproveFlow ? /*#__PURE__*/_jsxDEV(RowBetween, {\n              children: [/*#__PURE__*/_jsxDEV(StyledSwapButton, {\n                onClick: approveCallback,\n                disabled: approval !== ApprovalState.NOT_APPROVED || approvalSubmitted,\n                style: {\n                  width: '48%'\n                },\n                variant: approval === ApprovalState.APPROVED ? 'success' : 'primary',\n                children: approval === ApprovalState.PENDING ? /*#__PURE__*/_jsxDEV(AutoRow, {\n                  gap: \"6px\",\n                  justify: \"center\",\n                  children: [\"Approving \", /*#__PURE__*/_jsxDEV(Loader, {\n                    stroke: \"white\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 550,\n                    columnNumber: 35\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 23\n                }, this) : approvalSubmitted && approval === ApprovalState.APPROVED ? 'Approved' : `Approve ${(_currencies$Field$INP = currencies[Field.INPUT]) === null || _currencies$Field$INP === void 0 ? void 0 : _currencies$Field$INP.symbol}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(StyledSwapButton, {\n                onClick: () => {\n                  if (isExpertMode) {\n                    handleSwap();\n                  } else {\n                    setSwapState({\n                      tradeToConfirm: trade,\n                      attemptingTxn: false,\n                      swapErrorMessage: undefined,\n                      showConfirm: true,\n                      txHash: undefined\n                    });\n                  }\n                },\n                style: {\n                  width: '48%'\n                },\n                id: \"swap-button\",\n                disabled: !isValid || approval !== ApprovalState.APPROVED || priceImpactSeverity > 3 && !isExpertMode,\n                variant: isValid && priceImpactSeverity > 2 ? 'danger' : 'primary',\n                children: priceImpactSeverity > 3 && !isExpertMode ? `Price Impact High` : `Swap${priceImpactSeverity > 2 ? ' Anyway' : ''}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(StyledSwapButton, {\n              onClick: () => {\n                if (isExpertMode) {\n                  handleSwap();\n                } else {\n                  setSwapState({\n                    tradeToConfirm: trade,\n                    attemptingTxn: false,\n                    swapErrorMessage: undefined,\n                    showConfirm: true,\n                    txHash: undefined\n                  });\n                }\n              },\n              id: \"swap-button\",\n              disabled: !isValid || priceImpactSeverity > 3 && !isExpertMode || !!swapCallbackError,\n              variant: isValid && priceImpactSeverity > 2 && !swapCallbackError ? 'danger' : 'primary',\n              fullWidth: true,\n              children: swapInputError || (priceImpactSeverity > 3 && !isExpertMode ? `Price Impact Too High` : `Swap${priceImpactSeverity > 2 ? ' Anyway' : ''}`)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 585,\n              columnNumber: 17\n            }, this), showApproveFlow && /*#__PURE__*/_jsxDEV(ProgressSteps, {\n              steps: [approval === ApprovalState.APPROVED]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 610,\n              columnNumber: 35\n            }, this), isExpertMode && swapErrorMessage ? /*#__PURE__*/_jsxDEV(SwapCallbackError, {\n              error: swapErrorMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 51\n            }, this) : null, betterTradeLinkVersion && /*#__PURE__*/_jsxDEV(BetterTradeLink, {\n              version: betterTradeLinkVersion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 42\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AdvancedSwapDetailsDropdown, {\n      trade: trade\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 617,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Swap, \"tXDPmeg5csufypfqYCT9CzPBdRA=\", false, function () {\n  return [useDefaultsFromURLSearch, useCurrency, useCurrency, useActiveWeb3React, useExpertModeManager, useUserDeadline, useUserSlippageTolerance, useSwapState, useDerivedSwapInfo, useWrapCallback, useToggledVersion, useSwapActionHandlers, useApproveCallbackFromTrade, useSwapCallback];\n});\n\n_c6 = Swap;\nexport default Swap;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"StyledCardBody\");\n$RefreshReg$(_c2, \"StyledIconButton\");\n$RefreshReg$(_c3, \"StyledSwapButton\");\n$RefreshReg$(_c4, \"StyledAutoColumn\");\n$RefreshReg$(_c5, \"StyledSwapVertIcon\");\n$RefreshReg$(_c6, \"Swap\");","map":{"version":3,"sources":["/home/someone/kucoin/tesnet20_08/amm-front/src/pages/Swap/index.tsx"],"names":["JSBI","Token","React","useCallback","useContext","useEffect","useMemo","useState","ArrowDown","CardBody","Button","IconButton","Text","Heading","styled","ThemeContext","AddressInputPanel","Card","GreyCard","AutoColumn","ConfirmSwapModal","CurrencyInputPanel","CardNav","AutoRow","RowBetween","AdvancedSwapDetailsDropdown","BetterTradeLink","confirmPriceImpactWithoutFee","ArrowWrapper","BottomGrouping","SwapCallbackError","Wrapper","TradePrice","TokenWarningModal","SyrupWarningModal","ProgressSteps","SwapVertIcon","BETTER_TRADE_LINK_THRESHOLD","INITIAL_ALLOWED_SLIPPAGE","isTradeBetter","useActiveWeb3React","useCurrency","ApprovalState","useApproveCallbackFromTrade","useSwapCallback","useToggledVersion","Version","useWrapCallback","WrapType","Field","useDefaultsFromURLSearch","useDerivedSwapInfo","useSwapActionHandlers","useSwapState","useExpertModeManager","useUserDeadline","useUserSlippageTolerance","LinkStyledButton","TYPE","maxAmountSpend","computeTradePriceBreakdown","warningSeverity","Loader","TranslateString","PageHeader","ConnectWalletButton","AppBody","main","Main","StyledCardBody","Header","div","StyledIconButton","StyledSwapButton","MainTitle","SubTitle","SubTitle2","MarginLink","a","StyledAutoColumn","StyledSwapVertIcon","Swap","loadedUrlParams","loadedInputCurrency","loadedOutputCurrency","inputCurrencyId","outputCurrencyId","dismissTokenWarning","setDismissTokenWarning","isSyrup","setIsSyrup","syrupTransactionType","setSyrupTransactionType","urlLoadedTokens","filter","c","handleConfirmTokenWarning","handleConfirmSyrupWarning","account","theme","isExpertMode","deadline","allowedSlippage","independentField","typedValue","recipient","v1Trade","v2Trade","currencyBalances","parsedAmount","currencies","inputError","swapInputError","wrapType","execute","onWrap","wrapInputError","INPUT","OUTPUT","showWrap","NOT_APPLICABLE","toggledVersion","trade","undefined","v1","v2","betterTradeLinkVersion","parsedAmounts","inputAmount","outputAmount","onSwitchTokens","onCurrencySelection","onUserInput","onChangeRecipient","isValid","dependentField","handleTypeInput","value","handleTypeOutput","showConfirm","tradeToConfirm","swapErrorMessage","attemptingTxn","txHash","setSwapState","formattedAmounts","toExact","toSignificant","route","userHasSpecifiedInputOutput","Boolean","greaterThan","BigInt","noRoute","approval","approveCallback","approvalSubmitted","setApprovalSubmitted","PENDING","maxAmountInput","atMaxAmountInput","equalTo","callback","swapCallback","error","swapCallbackError","priceImpactWithoutFee","handleSwap","prevState","then","hash","catch","message","showInverted","setShowInverted","priceImpactSeverity","showApproveFlow","NOT_APPROVED","APPROVED","handleConfirmDismiss","handleAcceptChanges","checkForSyrup","selected","purchaseType","handleInputSelect","inputCurrency","symbol","toLowerCase","handleMaxInput","handleOutputSelect","outputCurrency","length","borderRadius","colors","textSubtle","executionPrice","WRAP","UNWRAP","textAlign","width"],"mappings":"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","sourcesContent":["import { CurrencyAmount, JSBI, Token, Trade } from '@pancakeswap-libs/sdk-v2'\nimport React, { useCallback, useContext, useEffect, useMemo, useState } from 'react'\nimport { ArrowDown } from 'react-feather'\nimport { CardBody, ArrowDownIcon, Button, IconButton, Text, Heading } from '@pancakeswap-libs/uikit'\nimport styled, { ThemeContext } from 'styled-components'\nimport AddressInputPanel from 'components/AddressInputPanel'\nimport Card, { GreyCard } from 'components/Card'\nimport { AutoColumn } from 'components/Column'\nimport ConfirmSwapModal from 'components/swap/ConfirmSwapModal'\nimport CurrencyInputPanel from 'components/CurrencyInputPanel'\nimport CardNav from 'components/CardNav'\nimport { AutoRow, RowBetween } from 'components/Row'\nimport AdvancedSwapDetailsDropdown from 'components/swap/AdvancedSwapDetailsDropdown'\nimport BetterTradeLink from 'components/swap/BetterTradeLink'\nimport confirmPriceImpactWithoutFee from 'components/swap/confirmPriceImpactWithoutFee'\nimport { ArrowWrapper, BottomGrouping, SwapCallbackError, Wrapper } from 'components/swap/styleds'\nimport TradePrice from 'components/swap/TradePrice'\nimport TokenWarningModal from 'components/TokenWarningModal'\nimport SyrupWarningModal from 'components/SyrupWarningModal'\nimport ProgressSteps from 'components/ProgressSteps'\nimport SwapVertIcon from '@material-ui/icons/SwapVert'\nimport { BETTER_TRADE_LINK_THRESHOLD, INITIAL_ALLOWED_SLIPPAGE } from 'constants/index'\nimport { isTradeBetter } from 'data/V1'\nimport { useActiveWeb3React } from 'hooks'\nimport { useCurrency } from 'hooks/Tokens'\nimport { ApprovalState, useApproveCallbackFromTrade } from 'hooks/useApproveCallback'\nimport { useSwapCallback } from 'hooks/useSwapCallback'\nimport useToggledVersion, { Version } from 'hooks/useToggledVersion'\nimport useWrapCallback, { WrapType } from 'hooks/useWrapCallback'\nimport { Field } from 'state/swap/actions'\nimport { useDefaultsFromURLSearch, useDerivedSwapInfo, useSwapActionHandlers, useSwapState } from 'state/swap/hooks'\nimport { useExpertModeManager, useUserDeadline, useUserSlippageTolerance } from 'state/user/hooks'\nimport { LinkStyledButton, TYPE } from 'components/Shared'\nimport { maxAmountSpend } from 'utils/maxAmountSpend'\nimport { computeTradePriceBreakdown, warningSeverity } from 'utils/prices'\nimport Loader from 'components/Loader'\nimport { TranslateString } from 'utils/translateTextHelpers'\nimport PageHeader from 'components/PageHeader'\nimport ConnectWalletButton from 'components/ConnectWalletButton'\nimport AppBody from '../AppBody'\n\nconst { main: Main } = TYPE\n\nconst StyledCardBody = styled(CardBody)`\n  border-radius: 20px;\n`\nconst Header = styled.div`\n  position: relative;\n  margin-top: 5px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: #0c0c0c;\n  background-position-x: center;\n  background-position-y: bottom;\n  background-repeat: no-repeat;\n  background-size: 800px;\n  padding-bottom: 120px;\n  z-index: 100000000;\n\n  & > img {\n    position: absolute;\n    z-index: 50;\n    bottom: -30px;\n    max-width: 800px;\n  }\n`\nconst StyledIconButton = styled(IconButton)`\n  background-color: #48cae4;\n  margin-right: 5px;\n  height: 70px;\n  width: 70px;\n  box-shadow: none;\n  transition: all 0.2s ease-in-out;\n  border: 6px solid white;\n\n  & > svg,\n  & > svg > * {\n    fill: #fff;\n  }\n\n  &:hover {\n    background-color: #fff;\n    border: 6px solid #48cae4 !important;\n\n    & > svg,\n    & > svg > * {\n      fill: #48cae4;\n    }\n  }\n\n  &:focus {\n    box-shadow: none !important;\n  }\n\n  &:active {\n    background-color: #fff;\n  }\n`\n\nconst StyledSwapButton = styled(Button)`\n  background-color: #48cae4;\n  box-shadow: none;\n  transition: all 0.2s ease-in-out;\n  border: 2px solid white;\n  font-size: 20px;\n  font-weight: 600;\n\n  &:hover {\n    background-color: #fff;\n    border: 2px solid #48cae4 !important;\n    color: #48cae4;\n\n    & > svg,\n    & > svg > * {\n      fill: #48cae4;\n    }\n  }\n\n  &:focus {\n    box-shadow: none !important;\n  }\n\n  &:active {\n    background-color: #fff;\n  }\n`\n\n\nconst MainTitle = styled(Heading)`\n  color: #fff;\n  font-size: 60px;\n  font-weight: 500;\n`\n\nconst SubTitle = styled(MainTitle)`\n  font-size: 40px;\n  font-weight: 400;\n  margin: 0;\n  margin-top: -15px;\n`\n\nconst SubTitle2 = styled(SubTitle)`\n  margin-top: 10px;\n  margin-bottom: 10px;\n  color: #86868b;\n`\n\nconst MarginLink = styled.a`\n  margin-top: -5px;\n  margin-bottom: 50px;\n\n  & > * {\n    font-size: 20px;\n  }\n`\n\nconst StyledAutoColumn = styled(AutoColumn)`\n  margin-top: -50px;\n  margin-bottom: -50px;\n  z-index: 10;\n`\nconst StyledSwapVertIcon = styled(SwapVertIcon)`\n  font-size: 40px !important;\n  font-weight: 800 !important;\n`\n\nconst Swap = () => {\n  const loadedUrlParams = useDefaultsFromURLSearch()\n\n  // token warning stuff\n  const [loadedInputCurrency, loadedOutputCurrency] = [\n    useCurrency(loadedUrlParams?.inputCurrencyId),\n    useCurrency(loadedUrlParams?.outputCurrencyId),\n  ]\n  const [dismissTokenWarning, setDismissTokenWarning] = useState<boolean>(false)\n  const [isSyrup, setIsSyrup] = useState<boolean>(false)\n  const [syrupTransactionType, setSyrupTransactionType] = useState<string>('')\n  const urlLoadedTokens: Token[] = useMemo(\n    () => [loadedInputCurrency, loadedOutputCurrency]?.filter((c): c is Token => c instanceof Token) ?? [],\n    [loadedInputCurrency, loadedOutputCurrency]\n  )\n  const handleConfirmTokenWarning = useCallback(() => {\n    setDismissTokenWarning(true)\n  }, [])\n\n  const handleConfirmSyrupWarning = useCallback(() => {\n    setIsSyrup(false)\n    setSyrupTransactionType('')\n  }, [])\n\n  const { account } = useActiveWeb3React()\n  const theme = useContext(ThemeContext)\n\n  const [isExpertMode] = useExpertModeManager()\n\n  // get custom setting values for user\n  const [deadline] = useUserDeadline()\n  const [allowedSlippage] = useUserSlippageTolerance()\n\n  // swap state\n  const { independentField, typedValue, recipient } = useSwapState()\n  const {\n    v1Trade,\n    v2Trade,\n    currencyBalances,\n    parsedAmount,\n    currencies,\n    inputError: swapInputError,\n  } = useDerivedSwapInfo()\n  const { wrapType, execute: onWrap, inputError: wrapInputError } = useWrapCallback(\n    currencies[Field.INPUT],\n    currencies[Field.OUTPUT],\n    typedValue\n  )\n  const showWrap: boolean = wrapType !== WrapType.NOT_APPLICABLE\n  //   const { address: recipientAddress } = useENSAddress(recipient)\n  const toggledVersion = useToggledVersion()\n  const trade = showWrap\n    ? undefined\n    : {\n        [Version.v1]: v1Trade,\n        [Version.v2]: v2Trade,\n      }[toggledVersion]\n\n  const betterTradeLinkVersion: Version | undefined =\n    toggledVersion === Version.v2 && isTradeBetter(v2Trade, v1Trade, BETTER_TRADE_LINK_THRESHOLD)\n      ? Version.v1\n      : toggledVersion === Version.v1 && isTradeBetter(v1Trade, v2Trade)\n      ? Version.v2\n      : undefined\n\n  const parsedAmounts = showWrap\n    ? {\n        [Field.INPUT]: parsedAmount,\n        [Field.OUTPUT]: parsedAmount,\n      }\n    : {\n        [Field.INPUT]: independentField === Field.INPUT ? parsedAmount : trade?.inputAmount,\n        [Field.OUTPUT]: independentField === Field.OUTPUT ? parsedAmount : trade?.outputAmount,\n      }\n\n  const { onSwitchTokens, onCurrencySelection, onUserInput, onChangeRecipient } = useSwapActionHandlers()\n  const isValid = !swapInputError\n  const dependentField: Field = independentField === Field.INPUT ? Field.OUTPUT : Field.INPUT\n\n  const handleTypeInput = useCallback(\n    (value: string) => {\n      onUserInput(Field.INPUT, value)\n    },\n    [onUserInput]\n  )\n  const handleTypeOutput = useCallback(\n    (value: string) => {\n      onUserInput(Field.OUTPUT, value)\n    },\n    [onUserInput]\n  )\n\n  // modal and loading\n  const [{ showConfirm, tradeToConfirm, swapErrorMessage, attemptingTxn, txHash }, setSwapState] = useState<{\n    showConfirm: boolean\n    tradeToConfirm: Trade | undefined\n    attemptingTxn: boolean\n    swapErrorMessage: string | undefined\n    txHash: string | undefined\n  }>({\n    showConfirm: false,\n    tradeToConfirm: undefined,\n    attemptingTxn: false,\n    swapErrorMessage: undefined,\n    txHash: undefined,\n  })\n\n  const formattedAmounts = {\n    [independentField]: typedValue,\n    [dependentField]: showWrap\n      ? parsedAmounts[independentField]?.toExact() ?? ''\n      : parsedAmounts[dependentField]?.toSignificant(6) ?? '',\n  }\n\n  const route = trade?.route\n  const userHasSpecifiedInputOutput = Boolean(\n    currencies[Field.INPUT] && currencies[Field.OUTPUT] && parsedAmounts[independentField]?.greaterThan(JSBI.BigInt(0))\n  )\n  const noRoute = !route\n\n  // check whether the user has approved the router on the input token\n  const [approval, approveCallback] = useApproveCallbackFromTrade(trade, allowedSlippage)\n\n  // check if user has gone through approval process, used to show two step buttons, reset on token change\n  const [approvalSubmitted, setApprovalSubmitted] = useState<boolean>(false)\n\n  // mark when a user has submitted an approval, reset onTokenSelection for input field\n  useEffect(() => {\n    if (approval === ApprovalState.PENDING) {\n      setApprovalSubmitted(true)\n    }\n  }, [approval, approvalSubmitted])\n\n  const maxAmountInput: CurrencyAmount | undefined = maxAmountSpend(currencyBalances[Field.INPUT])\n  const atMaxAmountInput = Boolean(maxAmountInput && parsedAmounts[Field.INPUT]?.equalTo(maxAmountInput))\n\n  // the callback to execute the swap\n  const { callback: swapCallback, error: swapCallbackError } = useSwapCallback(\n    trade,\n    allowedSlippage,\n    deadline,\n    recipient\n  )\n\n  const { priceImpactWithoutFee } = computeTradePriceBreakdown(trade)\n\n  const handleSwap = useCallback(() => {\n    if (priceImpactWithoutFee && !confirmPriceImpactWithoutFee(priceImpactWithoutFee)) {\n      return\n    }\n    if (!swapCallback) {\n      return\n    }\n    setSwapState((prevState) => ({ ...prevState, attemptingTxn: true, swapErrorMessage: undefined, txHash: undefined }))\n    swapCallback()\n      .then((hash) => {\n        setSwapState((prevState) => ({\n          ...prevState,\n          attemptingTxn: false,\n          swapErrorMessage: undefined,\n          txHash: hash,\n        }))\n      })\n      .catch((error) => {\n        setSwapState((prevState) => ({\n          ...prevState,\n          attemptingTxn: false,\n          swapErrorMessage: error.message,\n          txHash: undefined,\n        }))\n      })\n  }, [priceImpactWithoutFee, swapCallback, setSwapState])\n\n  // errors\n  const [showInverted, setShowInverted] = useState<boolean>(false)\n\n  // warnings on slippage\n  const priceImpactSeverity = warningSeverity(priceImpactWithoutFee)\n\n  // show approve flow when: no error on inputs, not approved or pending, or approved in current session\n  // never show if price impact is above threshold in non expert mode\n  const showApproveFlow =\n    !swapInputError &&\n    (approval === ApprovalState.NOT_APPROVED ||\n      approval === ApprovalState.PENDING ||\n      (approvalSubmitted && approval === ApprovalState.APPROVED)) &&\n    !(priceImpactSeverity > 3 && !isExpertMode)\n\n  const handleConfirmDismiss = useCallback(() => {\n    setSwapState((prevState) => ({ ...prevState, showConfirm: false }))\n\n    // if there was a tx hash, we want to clear the input\n    if (txHash) {\n      onUserInput(Field.INPUT, '')\n    }\n  }, [onUserInput, txHash, setSwapState])\n\n  const handleAcceptChanges = useCallback(() => {\n    setSwapState((prevState) => ({ ...prevState, tradeToConfirm: trade }))\n  }, [trade])\n\n  // This will check to see if the user has selected Syrup to either buy or sell.\n  // If so, they will be alerted with a warning message.\n  const checkForSyrup = useCallback(\n    (selected: string, purchaseType: string) => {\n      if (selected === 'syrup') {\n        setIsSyrup(true)\n        setSyrupTransactionType(purchaseType)\n      }\n    },\n    [setIsSyrup, setSyrupTransactionType]\n  )\n\n  const handleInputSelect = useCallback(\n    (inputCurrency) => {\n      setApprovalSubmitted(false) // reset 2 step UI for approvals\n      onCurrencySelection(Field.INPUT, inputCurrency)\n      if (inputCurrency.symbol.toLowerCase() === 'syrup') {\n        checkForSyrup(inputCurrency.symbol.toLowerCase(), 'Selling')\n      }\n    },\n    [onCurrencySelection, setApprovalSubmitted, checkForSyrup]\n  )\n\n  const handleMaxInput = useCallback(() => {\n    if (maxAmountInput) {\n      onUserInput(Field.INPUT, maxAmountInput.toExact())\n    }\n  }, [maxAmountInput, onUserInput])\n\n  const handleOutputSelect = useCallback(\n    (outputCurrency) => {\n      onCurrencySelection(Field.OUTPUT, outputCurrency)\n      if (outputCurrency.symbol.toLowerCase() === 'syrup') {\n        checkForSyrup(outputCurrency.symbol.toLowerCase(), 'Buying')\n      }\n    },\n    [onCurrencySelection, checkForSyrup]\n  )\n\n  return (\n    <>\n      <TokenWarningModal\n        isOpen={urlLoadedTokens.length > 0 && !dismissTokenWarning}\n        tokens={urlLoadedTokens}\n        onConfirm={handleConfirmTokenWarning}\n      />\n      <SyrupWarningModal\n        isOpen={isSyrup}\n        transactionType={syrupTransactionType}\n        onConfirm={handleConfirmSyrupWarning}\n      />\n\n      <CardNav />\n\n      <AppBody>\n        <Wrapper id=\"swap-page\">\n          <ConfirmSwapModal\n            isOpen={showConfirm}\n            trade={trade}\n            originalTrade={tradeToConfirm}\n            onAcceptChanges={handleAcceptChanges}\n            attemptingTxn={attemptingTxn}\n            txHash={txHash}\n            recipient={recipient}\n            allowedSlippage={allowedSlippage}\n            onConfirm={handleSwap}\n            swapErrorMessage={swapErrorMessage}\n            onDismiss={handleConfirmDismiss}\n          />\n          <PageHeader title=\"Exchange\" description=\"Instantly trade KCC tokens\" />\n          <StyledCardBody>\n            <AutoColumn gap=\"md\">\n              <CurrencyInputPanel\n                label={\n                  independentField === Field.OUTPUT && !showWrap && trade\n                    ? 'From (estimated)'\n                    : TranslateString(76, 'From')\n                }\n                value={formattedAmounts[Field.INPUT]}\n                showMaxButton={!atMaxAmountInput}\n                currency={currencies[Field.INPUT]}\n                onUserInput={handleTypeInput}\n                onMax={handleMaxInput}\n                onCurrencySelect={handleInputSelect}\n                otherCurrency={currencies[Field.OUTPUT]}\n                id=\"swap-currency-input\"\n              />\n              <StyledAutoColumn justify=\"space-between\">\n                <AutoRow justify={isExpertMode ? 'space-between' : 'center'}>\n                  <ArrowWrapper clickable>\n                    <StyledIconButton\n                      variant=\"tertiary\"\n                      onClick={() => {\n                        setApprovalSubmitted(false) // reset 2 step UI for approvals\n                        onSwitchTokens()\n                      }}\n                      style={{ borderRadius: '50%' }}\n                      size=\"sm\"\n                    >\n                      <StyledSwapVertIcon />\n                    </StyledIconButton>\n                  </ArrowWrapper>\n                  {recipient === null && !showWrap && isExpertMode ? (\n                    <LinkStyledButton id=\"add-recipient-button\" onClick={() => onChangeRecipient('')}>\n                      + Add a send (optional)\n                    </LinkStyledButton>\n                  ) : null}\n                </AutoRow>\n              </StyledAutoColumn>\n              <CurrencyInputPanel\n                value={formattedAmounts[Field.OUTPUT]}\n                onUserInput={handleTypeOutput}\n                label={\n                  independentField === Field.INPUT && !showWrap && trade ? 'To (estimated)' : TranslateString(80, 'To')\n                }\n                showMaxButton={false}\n                currency={currencies[Field.OUTPUT]}\n                onCurrencySelect={handleOutputSelect}\n                otherCurrency={currencies[Field.INPUT]}\n                id=\"swap-currency-output\"\n              />\n\n              {recipient !== null && !showWrap ? (\n                <>\n                  <AutoRow justify=\"space-between\">\n                    <ArrowWrapper clickable={false}>\n                      <ArrowDown size=\"16\" color={theme.colors.textSubtle} />\n                    </ArrowWrapper>\n                    <LinkStyledButton id=\"remove-recipient-button\" onClick={() => onChangeRecipient(null)}>\n                      - Remove send\n                    </LinkStyledButton>\n                  </AutoRow>\n                  <AddressInputPanel id=\"recipient\" value={recipient} onChange={onChangeRecipient} />\n                </>\n              ) : null}\n\n              {showWrap ? null : (\n                <Card padding=\".25rem .75rem 0 .75rem\" borderRadius=\"20px\">\n                  <AutoColumn gap=\"4px\">\n                    {Boolean(trade) && (\n                      <RowBetween align=\"center\">\n                        <Text fontSize=\"14px\">Price</Text>\n                        <TradePrice\n                          price={trade?.executionPrice}\n                          showInverted={showInverted}\n                          setShowInverted={setShowInverted}\n                        />\n                      </RowBetween>\n                    )}\n                    {allowedSlippage !== INITIAL_ALLOWED_SLIPPAGE && (\n                      <RowBetween align=\"center\">\n                        <Text fontSize=\"14px\">Slippage Tolerance</Text>\n                        <Text fontSize=\"14px\">{allowedSlippage / 100}%</Text>\n                      </RowBetween>\n                    )}\n                  </AutoColumn>\n                </Card>\n              )}\n            </AutoColumn>\n            <BottomGrouping>\n              {!account ? (\n                <ConnectWalletButton fullWidth />\n              ) : showWrap ? (\n                <StyledSwapButton disabled={Boolean(wrapInputError)} onClick={onWrap} fullWidth>\n                  {wrapInputError ??\n                    (wrapType === WrapType.WRAP ? 'Wrap' : wrapType === WrapType.UNWRAP ? 'Unwrap' : null)}\n                </StyledSwapButton>\n              ) : noRoute && userHasSpecifiedInputOutput ? (\n                <GreyCard style={{ textAlign: 'center' }}>\n                  <Main mb=\"4px\">Insufficient liquidity for this trade.</Main>\n                </GreyCard>\n              ) : showApproveFlow ? (\n                <RowBetween>\n                  <StyledSwapButton\n                    onClick={approveCallback}\n                    disabled={approval !== ApprovalState.NOT_APPROVED || approvalSubmitted}\n                    style={{ width: '48%' }}\n                    variant={approval === ApprovalState.APPROVED ? 'success' : 'primary'}\n                  >\n                    {approval === ApprovalState.PENDING ? (\n                      <AutoRow gap=\"6px\" justify=\"center\">\n                        Approving <Loader stroke=\"white\" />\n                      </AutoRow>\n                    ) : approvalSubmitted && approval === ApprovalState.APPROVED ? (\n                      'Approved'\n                    ) : (\n                      `Approve ${currencies[Field.INPUT]?.symbol}`\n                    )}\n                  </StyledSwapButton>\n                  <StyledSwapButton\n                    onClick={() => {\n                      if (isExpertMode) {\n                        handleSwap()\n                      } else {\n                        setSwapState({\n                          tradeToConfirm: trade,\n                          attemptingTxn: false,\n                          swapErrorMessage: undefined,\n                          showConfirm: true,\n                          txHash: undefined,\n                        })\n                      }\n                    }}\n                    style={{ width: '48%' }}\n                    id=\"swap-button\"\n                    disabled={\n                      !isValid || approval !== ApprovalState.APPROVED || (priceImpactSeverity > 3 && !isExpertMode)\n                    }\n                    variant={isValid && priceImpactSeverity > 2 ? 'danger' : 'primary'}\n                  >\n                    {priceImpactSeverity > 3 && !isExpertMode\n                      ? `Price Impact High`\n                      : `Swap${priceImpactSeverity > 2 ? ' Anyway' : ''}`}\n                  </StyledSwapButton>\n                </RowBetween>\n              ) : (\n                <StyledSwapButton\n                  onClick={() => {\n                    if (isExpertMode) {\n                      handleSwap()\n                    } else {\n                      setSwapState({\n                        tradeToConfirm: trade,\n                        attemptingTxn: false,\n                        swapErrorMessage: undefined,\n                        showConfirm: true,\n                        txHash: undefined,\n                      })\n                    }\n                  }}\n                  id=\"swap-button\"\n                  disabled={!isValid || (priceImpactSeverity > 3 && !isExpertMode) || !!swapCallbackError}\n                  variant={isValid && priceImpactSeverity > 2 && !swapCallbackError ? 'danger' : 'primary'}\n                  fullWidth\n                >\n                  {swapInputError ||\n                    (priceImpactSeverity > 3 && !isExpertMode\n                      ? `Price Impact Too High`\n                      : `Swap${priceImpactSeverity > 2 ? ' Anyway' : ''}`)}\n                </StyledSwapButton>\n              )}\n              {showApproveFlow && <ProgressSteps steps={[approval === ApprovalState.APPROVED]} />}\n              {isExpertMode && swapErrorMessage ? <SwapCallbackError error={swapErrorMessage} /> : null}\n              {betterTradeLinkVersion && <BetterTradeLink version={betterTradeLinkVersion} />}\n            </BottomGrouping>\n          </StyledCardBody>\n        </Wrapper>\n      </AppBody>\n      <AdvancedSwapDetailsDropdown trade={trade} />\n    </>\n  )\n}\n\nexport default Swap\n"]},"metadata":{},"sourceType":"module"}